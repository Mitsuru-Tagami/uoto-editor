## 魚兎エディタ プラグイン構造リファクタリングの記録

**ステータス: 完了済み**

このドキュメントは、過去に実施されたプラグイン構造のリファクタリング計画とその結果を記録したものです。

### 目標
プラグインのJavaScriptファイルとCSSファイルを、プラグインごとにまとめることで、開発と管理の効率を向上させる。

### 実施前の課題
リファクタリング以前のファイル構造では、プラグインのJSファイルとCSSファイルが別々のディレクトリ（`js/plugins/` と `css/plugins/`）に配置されており、単一のプラグインを開発・管理する際に不便が生じていた。

### 現在のファイル構造（リファクタリング後の結果）
```
uoto_editor/
└── plugins/
    ├── vertical-writing-plugin/
    │   ├── vertical-writing-plugin.js
    │   └── vertical-writing-plugin.css
    ├── kakuyomu-notation-plugin/
    │   ├── kakuyomu-notation-plugin.js
    │   └── kakuyomu-notation-plugin.css
    └── (その他のプラグインも同様)
```

### 実施したステップ

1.  **新しいディレクトリの作成:**
    `uoto_editor/plugins/` ディレクトリを作成し、その下に各プラグイン名のディレクトリを作成した。
2.  **ファイルの移動:**
    既存の `js/plugins/*.js` ファイルを対応する `plugins/*/` へ移動した。
    既存の `css/plugins/*.css` ファイルを対応する `plugins/*/` へ移動した。
3.  **`index.html` の更新:**
    プラグインのJavaScriptファイルとCSSファイルの読み込みパスを、新しい構造に合わせて修正した。
4.  **`config/plugins.js` の更新:**
    プラグインのインポートパスを新しい構造に合わせて修正した。
5.  **ドキュメントの更新:**
    `plugin_spec.md` および `plugin_management.md` を、新しいプラグイン構造に合わせて更新した。
6.  **既存の空になったディレクトリの削除:**
    `js/plugins/` および `css/plugins/` が空になったため、削除した。

### シンタックスハイライトプラグインに関する考慮事項（当時のメモ）

*   **デフォルトで無効:** プラグインは読み込むが、初期状態ではシンタックスハイライトは適用しない。
*   **手動での有効化/無効化:** ユーザーが、必要に応じてシンタックスハイライトを有効にしたり、無効にしたりできる切り替え機能（ボタンなど）を用意する。
*   **画面サイズへの配慮:** 小さい画面では、シンタックスハイライトが邪魔になる可能性があるため、ドキュメントなどで明記するか、将来的に画面サイズに応じて自動で有効・無効を切り替える機能も検討する。
