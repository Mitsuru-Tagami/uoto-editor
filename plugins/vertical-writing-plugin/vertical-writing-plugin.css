/* 縦書きモードのスタイル */
#editor.vertical-writing {
    box-sizing: border-box; /* はみ出し問題を解決する魔法の言葉よ */
    writing-mode: vertical-rl;
    white-space: pre-wrap;
    background-image: linear-gradient(to left, #ddd 1px, transparent 1px);
    background-size: 24px 100%;
    overflow-x: auto; /* 縦書き時の横スクロール */
    overflow-y: hidden; /* 縦書き時の縦スクロールは不要 */
    word-break: normal;
    /* 縦書きでは物理的な上が左、右が上、下が右、左が下に対応する */
    /* そのため、物理的な下に余白を設けるには padding-right を使う */
    padding: 1em;
    padding-right: 2em; /* これで物理的な下に2文字分の余白ができる */

    /* 18行分の高さに固定 (画面からはみ出さないように調整) */
    flex-grow: 0;
    flex-shrink: 0;
    flex-basis: calc(1.5em * 18 + 2em); /* padding-right */
    width: 100%; /* 縦書き時に幅を100%にする */
}



/* 横書きモードのスタイル */
#editor.horizontal-writing {
    writing-mode: horizontal-tb;
    -webkit-writing-mode: horizontal-tb;
    -ms-writing-mode: lr-tb;
    white-space: normal;
    background-image: linear-gradient(to bottom, #ddd 1px, transparent 1px);
    background-size: 100% 24px;
    overflow-y: auto; /* 横書き時の縦スクロール */
    overflow-x: auto; /* 横書き時の横スクロール */
    word-break: break-word;
    padding-right: 20px; /* 横書き時の右側の余白 */
    flex: 1; /* 利用可能なスペースを埋める */
    height: auto; /* 高さを自動調整 */
}

/* 縦書きモードのスタイル (プレビュー) */
#preview.vertical-writing {
    /* display: block; */ /* カクヨム記法プラグインで制御するためコメントアウト */
    writing-mode: vertical-rl;
    -webkit-writing-mode: vertical-rl;
    -ms-writing-mode: tb-rl;
    white-space: pre-wrap;
    overflow-x: auto;
    overflow-y: hidden;
    /* 縦書き時に文字が切れないように、内側にしっかり余白を確保 */
    padding: 20px;
}

/* 横書きモードのスタイル (プレビュー) */
#preview.horizontal-writing {
    /* display: block; */ /* カクヨム記法プラグインで制御するためコメントアウト */
}

/* 縦書きモードの時にラッパーのレイアウトを調整 */
.editor-wrapper.vertical-mode {
    flex-direction: column;
}